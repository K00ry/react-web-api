(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{118:function(e,t,a){e.exports=a(226)},127:function(e,t,a){},226:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(9),s=a.n(c),l=(a(127),a(37)),o=a(38),i=a(41),m=a(39),h=a(42),u=a(57),d=a.n(u),p=a(24),f=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={searchText:" "},a.onSearchChange=function(e){a.setState({searchText:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),e.currentTarget.reset(),a.props.onSearch(a.state.searchText)},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"main-wrapper"},r.a.createElement("form",{className:"lastFm",onSubmit:this.handleSubmit},r.a.createElement("fieldset",null,r.a.createElement("legend",null,"search widget for spotify"),r.a.createElement("label",null,"Artist Search"),r.a.createElement("h3",null,r.a.createElement("span",null,"bonus: "),"you get up to 9 ",r.a.createElement("b",null,"Flickr")," related picture's to your chosen artist."," "),r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("input",{onChange:this.onSearchChange,id:"flickr-search",type:"text",name:"search","data-search":!0}),r.a.createElement(p.a,{bsSize:"small",id:"flickr-submit",type:"submit"},r.a.createElement(p.b,{glyph:"search"}))))))}}]),t}(n.Component),v=function(e){return r.a.createElement("li",{className:"covers",onClick:e.Show},r.a.createElement("img",{src:e.url,alt:e.alt}),r.a.createElement("span",{className:"cover-span"},e.alt))},g=function(e){var t=e.data.map(function(t,a){return r.a.createElement(v,{Show:function(){return e.overlayShow(t.name,a)},key:a,url:t.image[3]["#text"],alt:t.name,text:t.name})});return r.a.createElement("ul",{className:"gallery"},t)},b=a(115),E=a(116),k=function(e){return r.a.createElement("div",{className:"Flick-cover"},r.a.createElement("img",{src:e.url,alt:e.title}))};function w(){var e=Object(b.a)(["\n      display:flex;\n      flex-direction:row;\n      justify-content: space-between;\n      width:100%;\n      align-items:center;\n     height: 100%;\n     background: url('","');\n     background-repeat: no-repeat;\n    background-position: center;\n    background-size:cover;\n    &:before{\n    content: '';\n    position: absolute;\n    top: 0;\n    right: 0;\n    left: 0;\n    bottom: 0;\n    background: rgba(0,0,0,0.6);\n    }"]);return w=function(){return e},e}var y=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).nothingFound=function(){return a.props.noResults?r.a.createElement("div",{className:"no-results"},r.a.createElement("span",null,"No results")):a.props.data.map(function(e,t){return r.a.createElement(k,{key:t,url:"https://farm".concat(e.farm,".staticflickr.com/").concat(e.server,"/").concat(e.id,"_").concat(e.secret,"_c.jpg"),title:e.title})})},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=E.a.div(w(),this.props.dataInfo.coverSrc);return r.a.createElement(p.c,{show:this.props.show,onHide:this.props.onHide},r.a.createElement(t,null,r.a.createElement("span",{className:"left-arrow",onClick:function(){return e.props.onNext_Prev("left")}},r.a.createElement(p.b,{glyph:"menu-left"})),r.a.createElement("div",{className:"overlay-content"},r.a.createElement("div",{className:"overlay-close-button"},r.a.createElement(p.b,{glyph:"remove",onClick:this.props.onHide})),r.a.createElement("div",{className:"artist-title"},r.a.createElement("h2",{className:"lastfm-h"},r.a.createElement("span",{className:"big-title"},this.props.dataInfo.CoverAlt))),r.a.createElement("div",{className:"last-fm-info"},r.a.createElement("img",{src:this.props.dataInfo.coverSrc,alt:this.props.dataInfo.CoverAlt}),r.a.createElement("p",null,this.props.dataInfo.content),r.a.createElement("div",{className:"genres-bar"},r.a.createElement("h3",null,"Genres"),r.a.createElement("ul",{className:"genres"},this.props.tags))),r.a.createElement("div",{className:"flickr-div"},r.a.createElement("div",{className:"flickr-title"},r.a.createElement("h2",{className:"flickr-h"},r.a.createElement("span",{className:"big-flickr"},"Flickr")," results.")),r.a.createElement("div",{className:"content-holder"},this.nothingFound()))),r.a.createElement("span",{className:"right-arrow",onClick:function(){return e.props.onNext_Prev("right")}},r.a.createElement(p.b,{glyph:"menu-right"}))))}}]),t}(n.Component),N="3ea653eda94bb0faa0b187f9dbbaef63",S="e6b729c9dcd6ff068d521a09ad388c15",j=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={show:!1,retrieved:[],retrievedFlickr:[],retrievedInfo:[],rightIndex:0,noResults:!1},a.submitClicked=function(e){d.a.get("https://ws.audioscrobbler.com/2.0/?method=artist.search&artist=".concat(e,"&api_key=").concat(N,"&format=json&limit=10")).then(function(e){var t=e.data.results.artistmatches.artist.filter(function(e){return""!==e.image[4]["#text"]});a.setState({retrieved:t})}).catch(function(e){console.log("Error fetching and parsing data",e)})},a.handleShow=function(e,t){a.setState({show:!0,rightIndex:t}),d.a.get("https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=".concat(S,"&tags=").concat(e,"&per_page=4&format=json&nojsoncallback=1")).then(function(e){var t=e.data.photos.photo;0===t.length&&a.setState({retrievedFlickr:t,noResults:!0}),a.setState({retrievedFlickr:t})}).catch(function(e){console.log("Error fetching and parsing data",e)}),d.a.get("https://ws.audioscrobbler.com/2.0/?method=artist.getInfo&artist=".concat(e,"&api_key=").concat(N,"&format=json&limit=10")).then(function(e){var t={},n=e.data.artist;t.coverSrc=n.image[4]["#text"],t.CoverAlt=n.name,t.content=n.bio.content.slice(0,300),t.tagArr=n.tags.tag.map(function(e,t){return r.a.createElement("li",{className:"genres-tags",key:t},e.name)}),a.setState({retrievedInfo:t})}).catch(function(e){console.log("Error fetching and parsing data",e)})},a.clickFlick=function(e){if(a.setState({noResults:!1}),"right"===e){var t=a.state.rightIndex+1;t===a.state.retrieved.length&&(t=0);var n=a.state.retrieved[t].name;a.handleShow(n,t)}else{var r=a.state.rightIndex-1;-1===r&&(r=a.state.retrieved.length-1);var c=a.state.retrieved[r].name;a.handleShow(c,r)}},a.handleClose=function(){a.setState({show:!1,rightIndex:0,retrievedFlickr:[],retrievedInfo:[],noResults:!1})},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"root-wrapper"},r.a.createElement(f,{onSearch:this.submitClicked}),r.a.createElement(g,{data:this.state.retrieved,overlayShow:this.handleShow}),r.a.createElement(y,{data:this.state.retrievedFlickr,dataInfo:this.state.retrievedInfo,tags:this.state.retrievedInfo.tagArr,show:this.state.show,onHide:this.handleClose,onNext_Prev:this.clickFlick,noResults:this.state.noResults}))}}]),t}(n.Component);s.a.render(r.a.createElement(j,null),document.getElementById("root"))}},[[118,2,1]]]);
//# sourceMappingURL=main.69388e3b.chunk.js.map