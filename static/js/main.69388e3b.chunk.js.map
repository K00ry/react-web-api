{"version":3,"sources":["components/SearchForm.js","components/Covers.js","components/Gallery.js","components/FlickrShow.js","components/Overlay.js","App.js","index.js"],"names":["SearchForm","state","searchText","onSearchChange","e","_this","setState","target","value","handleSubmit","preventDefault","currentTarget","reset","props","onSearch","react_default","a","createElement","className","onSubmit","this","onChange","id","type","name","data-search","es","bsSize","glyph","Component","Covers","onClick","Show","src","url","alt","Gallery","covers","data","map","cover","index","components_Covers","overlayShow","key","image","text","FlickrShow","title","Overlay","nothingFound","noResults","info","components_FlickrShow","concat","farm","server","secret","_this2","Background","styled","div","_templateObject","dataInfo","coverSrc","show","onHide","onNext_Prev","CoverAlt","content","tags","lastfmApiKey","process","flickrApiKey","App","retrieved","retrievedFlickr","retrievedInfo","rightIndex","submitClicked","query","axios","get","then","response","filtered","results","artistmatches","artist","filter","arr","catch","error","console","log","handleShow","dataArray","photos","photo","length","jaber","dataArr","bio","slice","tagArr","tag","kos","clickFlick","arrow","rightCover","rightName","handleClose","SearchForm_SearchForm","components_Gallery","Overlay_Overlay","ReactDOM","render","App_App","document","getElementById"],"mappings":"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","file":"static/js/main.69388e3b.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { Button, Glyphicon } from 'react-bootstrap';\n\nexport default class SearchForm extends Component {\n  state = {\n    searchText: ' ',\n  };\n\n  onSearchChange = e => {\n    this.setState({\n      searchText: e.target.value,\n    });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    e.currentTarget.reset();\n    this.props.onSearch(this.state.searchText);\n  };\n  render() {\n    return (\n      <div className=\"main-wrapper\">\n        <form className=\"lastFm\" onSubmit={this.handleSubmit}>\n          <fieldset>\n            <legend>search widget for spotify</legend>\n            <label>Artist Search</label>\n            <h3>\n              <span>bonus: </span>you get up to 9 <b>Flickr</b> related\n              picture's to your chosen artist.{' '}\n            </h3>\n            <div className=\"input-wrapper\">\n              <input\n                onChange={this.onSearchChange}\n                id=\"flickr-search\"\n                type=\"text\"\n                name=\"search\"\n                data-search\n              />\n              <Button bsSize=\"small\" id=\"flickr-submit\" type=\"submit\">\n                <Glyphicon glyph=\"search\" />\n              </Button>\n            </div>\n          </fieldset>\n        </form>\n      </div>\n    );\n  }\n}\n","import React from 'react';\n\nconst Covers = props => {\n  return (\n    <li className=\"covers\" onClick={props.Show}>\n      <img src={props.url} alt={props.alt} />\n      <span className=\"cover-span\">{props.alt}</span>\n    </li>\n  );\n};\n\nexport default Covers;\n","import React from 'react';\nimport Covers from './Covers';\n\nconst Gallery = props => {\n  const results = props.data;\n  let covers = results.map((cover, index) => (\n    <Covers\n      Show={() => props.overlayShow(cover.name, index)}\n      key={index}\n      url={cover.image[3]['#text']}\n      alt={cover.name}\n      text={cover.name}\n    />\n  ));\n\n  return <ul className=\"gallery\">{covers}</ul>;\n};\n\nexport default Gallery;\n","import React from 'react';\n\n\nconst FlickrShow = props => {\n  return <div className=\"Flick-cover\">\n        <img src={props.url} alt={props.title}/>\n  </div>\n};\n\nexport default FlickrShow;\n","import React, { Component } from 'react';\nimport styled from 'styled-components';\nimport { Modal, Glyphicon } from 'react-bootstrap';\nimport FlickrShow from './FlickrShow';\n\nexport default class Overlay extends Component {\n  nothingFound = () => {\n    if (this.props.noResults) {\n      let ghaderi = (\n        <div className=\"no-results\">\n          <span>No results</span>\n        </div>\n      );\n\n      return ghaderi;\n    } else {\n      let ghaderi = this.props.data.map((info, index) => {\n        return (\n          <FlickrShow\n            key={index}\n            url={`https://farm${info.farm}.staticflickr.com/${info.server}/${\n              info.id\n            }_${info.secret}_c.jpg`}\n            title={info.title}\n          />\n        );\n      });\n      return ghaderi;\n    }\n  };\n  render() {\n    const Background = styled.div`\n      display:flex;\n      flex-direction:row;\n      justify-content: space-between;\n      width:100%;\n      align-items:center;\n     height: 100%;\n     background: url('${this.props.dataInfo.coverSrc}');\n     background-repeat: no-repeat;\n    background-position: center;\n    background-size:cover;\n    &:before{\n    content: '';\n    position: absolute;\n    top: 0;\n    right: 0;\n    left: 0;\n    bottom: 0;\n    background: rgba(0,0,0,0.6);\n    }`;\n\n    return (\n      <Modal show={this.props.show} onHide={this.props.onHide}>\n        <Background>\n          <span\n            className=\"left-arrow\"\n            onClick={() => this.props.onNext_Prev('left')}\n          >\n            <Glyphicon glyph=\"menu-left\" />\n          </span>\n          <div className=\"overlay-content\">\n            <div className=\"overlay-close-button\">\n              <Glyphicon glyph=\"remove\" onClick={this.props.onHide} />\n            </div>\n            <div className=\"artist-title\">\n              <h2 className=\"lastfm-h\">\n                <span className=\"big-title\">\n                  {this.props.dataInfo.CoverAlt}\n                </span>\n              </h2>\n            </div>\n\n            <div className=\"last-fm-info\">\n              <img\n                src={this.props.dataInfo.coverSrc}\n                alt={this.props.dataInfo.CoverAlt}\n              />\n              <p>{this.props.dataInfo.content}</p>\n              <div className=\"genres-bar\">\n                <h3>Genres</h3>\n                <ul className=\"genres\">{this.props.tags}</ul>\n              </div>\n            </div>\n            <div className=\"flickr-div\">\n              <div className=\"flickr-title\">\n                <h2 className=\"flickr-h\">\n                  <span className=\"big-flickr\">Flickr</span> results.\n                </h2>\n              </div>\n              <div className=\"content-holder\">{this.nothingFound()}</div>\n            </div>\n          </div>\n          <span\n            className=\"right-arrow\"\n            onClick={() => this.props.onNext_Prev('right')}\n          >\n            <Glyphicon glyph=\"menu-right\" />\n          </span>\n        </Background>\n      </Modal>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport axios from 'axios';\nimport SearchForm from './components/SearchForm';\nimport Gallery from './components/Gallery';\nimport Overlay from './components/Overlay';\nconst lastfmApiKey = process.env.REACT_APP_Last_key;\nconst flickrApiKey = process.env.REACT_APP_Flick_key;\n\nexport default class App extends Component {\n  state = {\n    show: false,\n    retrieved: [],\n    retrievedFlickr: [],\n    retrievedInfo: [],\n    rightIndex: 0,\n    noResults: false,\n  };\n\n  submitClicked = query => {\n    axios\n      .get(\n        `https://ws.audioscrobbler.com/2.0/?method=artist.search&artist=${query}&api_key=${lastfmApiKey}&format=json&limit=10`,\n      )\n\n      .then(response => {\n        let dataArr = response.data.results.artistmatches.artist;\n        let filtered = dataArr.filter(arr => arr.image[4]['#text'] !== '');\n\n        this.setState({\n          retrieved: filtered,\n        });\n      })\n      .catch(error => {\n        console.log('Error fetching and parsing data', error);\n      });\n  };\n\n  handleShow = (artist, index) => {\n    this.setState({\n      show: true,\n      rightIndex: index,\n    });\n\n    axios\n      .get(\n        `https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=${flickrApiKey}&tags=${artist}&per_page=4&format=json&nojsoncallback=1`,\n      )\n      .then(response => {\n        let dataArray = response.data.photos.photo;\n\n        if (dataArray.length === 0) {\n          this.setState({\n            retrievedFlickr: dataArray,\n            noResults: true,\n          });\n        }\n\n        this.setState({\n          retrievedFlickr: dataArray,\n        });\n      })\n      .catch(error => {\n        console.log('Error fetching and parsing data', error);\n      });\n\n    ///////////////////////////////////////////\n    axios\n      .get(\n        `https://ws.audioscrobbler.com/2.0/?method=artist.getInfo&artist=${artist}&api_key=${lastfmApiKey}&format=json&limit=10`,\n      )\n\n      .then(response => {\n        let jaber = {};\n        let dataArr = response.data.artist;\n        jaber.coverSrc = dataArr.image[4]['#text'];\n        jaber.CoverAlt = dataArr.name;\n        jaber.content = dataArr.bio.content.slice(0, 300);\n        jaber.tagArr = dataArr.tags.tag.map((kos, index) => {\n          return (\n            <li className=\"genres-tags\" key={index}>\n              {kos.name}\n            </li>\n          );\n        });\n\n        // console.log(jaber);\n        this.setState({\n          retrievedInfo: jaber,\n        });\n      })\n      .catch(error => {\n        console.log('Error fetching and parsing data', error);\n      });\n  };\n\n  clickFlick = arrow => {\n    this.setState({\n      noResults: false,\n    });\n    if (arrow === 'right') {\n      let rightCover = this.state.rightIndex + 1;\n\n      if (rightCover === this.state.retrieved.length) {\n        rightCover = 0;\n      }\n      let rightName = this.state.retrieved[rightCover].name;\n      this.handleShow(rightName, rightCover);\n    } else {\n      let rightCover = this.state.rightIndex - 1;\n      if (rightCover === -1) {\n        rightCover = this.state.retrieved.length - 1;\n      }\n      let rightName = this.state.retrieved[rightCover].name;\n      this.handleShow(rightName, rightCover);\n    }\n  };\n\n  handleClose = () => {\n    this.setState({\n      show: false,\n      rightIndex: 0,\n      retrievedFlickr: [],\n      retrievedInfo: [],\n      noResults: false,\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"root-wrapper\">\n        <SearchForm onSearch={this.submitClicked} />\n        <Gallery data={this.state.retrieved} overlayShow={this.handleShow} />\n\n        <Overlay\n          data={this.state.retrievedFlickr}\n          dataInfo={this.state.retrievedInfo}\n          tags={this.state.retrievedInfo.tagArr}\n          show={this.state.show}\n          onHide={this.handleClose}\n          onNext_Prev={this.clickFlick}\n          noResults={this.state.noResults}\n        />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/index.css';\nimport App from './App';\n// import registerServiceWorker from './registerServiceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n// registerServiceWorker();\n"],"sourceRoot":""}